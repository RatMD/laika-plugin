!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Laika={})}(this,function(t){"use strict";t.createLaikaApp=async function(t){try{const o=t.rootId?document.querySelector(t.rootId):document.querySelector(".app");if(!o)throw new Error(`Laika: root element not found (${t.rootId??".app"})`);const r=function(t='[data-laika="payload"]'){const e=document.head.querySelector(t);if(!e)throw new Error(`Laika: payload script tag not found (${t})`);const o=e.textContent?.trim();if(!o)throw new Error("Laika: payload script tag is empty");let r;try{r=JSON.parse(o)}catch(t){throw new Error("Laika: payload JSON parse failed")}const a=r;if(!a||"object"!=typeof a)throw new Error("Laika: payload is not an object");if("string"!=typeof a.component||!a.component)throw new Error("Laika: payload.component missing");if("string"!=typeof a.url)throw new Error("Laika: payload.url missing");if(!a.props||"object"!=typeof a.props)throw new Error("Laika: payload.props missing");return a}();r.head?.title&&t.title?document.title=t.title(r.head.title):r.head?.title&&(document.title=r.head.title);const a=await t.resolve(r.component),n=(e=a,e?.default??e),i={page:()=>r,visit:async(t,e)=>{e?.replace?history.replaceState({},"",t):history.pushState({},"",t)},request:async(t,e)=>({handler:t,data:e})},p={install(t){t.provide("laika",i),t.config.globalProperties.$laika=i}};return t.setup({root:o,App:n,props:r.props,payload:r,laikaPlugin:p,laika:i})}catch(e){return t.onError?t.onError(e):console.error(e),null}var e},t.default=void 0,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=laika.js.map
